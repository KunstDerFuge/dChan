{% extends 'posts/8chan_base.html' %}
{% load filters %}
{% load static %}
{% block head_extras %}
    <link rel="stylesheet" href="{% static 'style.css' %}">
{% endblock %}
{% block content %}
    {% if posts %}
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">All</a></li>
                <li class="breadcrumb-item"><a href="/{{ posts.0.platform }}">{{ posts.0.platform }}</a></li>
                <li class="breadcrumb-item"><a
                        href="/{{ posts.0.platform }}/{{ posts.0.board }}">{{ posts.0.board }}</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{ posts.0.post_id }}</li>
            </ol>
        </nav>
        {% for post in posts %}
            <article id="{{ post.post_id }}"
                     style="margin: 0 5px 3px 16px; display: block;font-family: arial, helvetica, sans-serif">
                <div class="card" style="display: table-cell;
                            padding: 4px 4px 10px 10px;
                            background: rgb(214, 218, 240);
                            border-bottom: 1px solid #ccc;">
                    <header style="text-align:left;clear:none;display:block;line-height:1.16em;font-size:13px;min-height:1.16em;margin: 0px; padding: 6px 0px 0.4em;">
                        <div style="padding: 0 6px 0 0;">
                            <span style="color:rgb(52, 52, 92);width:15px;text-align:center;font-size:10pt;opacity:0.8;text-decoration:none;display:inline-block;margin: -6px 0px 0px -5px; ">‚ñ∂</span>
                            <span style="font-weight: 700; color: #117743;">{{ post.author }}</span>
                            {% if post.tripcode %}
                                <span class="trip">{{ post.tripcode }}</span>
                            {% endif %}
                            <span style="background-color: {{ post.poster_hash|pastelize }}; border-radius: 8px; padding: 0 4px; color: {{ post.poster_hash|pastelize|contrast_text }}">ID: {{ post.poster_hash }}</span>
                            <span>{{ post.subject }}</span>
                            <span>{{ post.timestamp }}</span>
                            <span><a href="#{{ post.post_id }}">No.{{ post.post_id }}</a></span>
                            {% for reply in post.replies.all %}
                                {% if reply.board == post.board %}
                                    <a href="{{ reply.get_post_url }}">{{ reply.get_reply_string }}</a>
                                {% else %}
                                    <a href="{{ reply.get_post_url }}">{{ reply.get_cross_board_reply_string }}</a>
                                {% endif %}
                            {% endfor %}
                            &nbsp;
                            <span><a href="{{ post.get_archive_url }}" style="text-decoration: none">üóÑÔ∏è.is</a></span>
                            {% if post.platform == '8kun' %}
                                <span><a href="{{ post.get_8kun_url }}" target="_blank" style="text-decoration: none">üîókun</a></span>
                            {% endif %}
                            {% if post.platform == '8chan' and post.board == 'qresearch' %}
                                <span><a href="{{ post.get_8kun_url }}" target="_blank" style="text-decoration: none">üîókun</a></span>
                            {% endif %}
                            {% if post.drop_no != 0 %}
                                <span style="float: right; font-size: 2em">&nbsp;{{ post.drop_no }}</span>
                            {% endif %}
                        </div>
                    </header>
                    <div style="padding: 12px; margin-bottom: -20px">{{ post.body | markdown:post.links }}</div>
                </div>
            </article>
        {% endfor %}
    {% else %}
        <div class="text-center pt-2">
            <h4>This page is not archived!</h4>
            <h5>...Yet.</h5>
            <p>Go to archive.is: <a href="{{ request.path|get_archive_link }}">{{ request.path|get_archive_link }}</a>
            </p>
        </div>
    {% endif %}
{% endblock %}
